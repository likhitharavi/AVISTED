@model IEnumerable<AVISTED.Models.ArchivesDownload>

@{
    ViewData["Title"] = "Archives and Download";
}

<h2>@ViewData["Title"]</h2><br /><br />

@if (!ViewBag.checkDown && !ViewBag.checkImg)
{
    <p>
        <h3>You don't have any Archives yet! </h3>
    </p>

}
@{ if (ViewBag.checkDown)
    {
        <h4 style="color:green;font-family:monospace;">Please select a file to download</h4>
        @*<p>
                <a asp-action="Create">Create New</a>
            </p>*@
        <table class="table">
            <thead>
                <tr>
                    <th>
                        @Html.DisplayNameFor(model => model.FileName)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Date)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.FileType)
                    </th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model)
                {
                    @if (!item.ImgDown)
                    {
                        <tr>
                            <td>
                                <a asp-action="Download" asp-route-id="@item.ID"> @Html.DisplayFor(modelItem => item.FileName)</a>
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.Date)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.FileType)
                            </td>
                            <td>
                                <!--<a asp-action="Edit" asp-route-id="@item.ID">Edit</a> |
                                <a asp-action="Details" asp-route-id="@item.ID">Details</a> |-->
                                <a asp-action="Delete" asp-route-id="@item.ID">Delete</a>
                            </td>
                        </tr>
                    }
                }
            </tbody>
        </table>
    }
}

@{ if (ViewBag.checkImg)
    {
        <h4 style="color:green;font-family:monospace;">Please select an image to download</h4>

        <!--p>
            <a asp-action="Create">Create New</a>
        </!--p>-->
        <table class="table">
            <thead>
                <tr>
                    <th>
                        @Html.DisplayNameFor(model => model.Date)
                    </th>

                    <th>
                        @Html.DisplayNameFor(model => model.FileName)
                    </th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model)
                {
                    @if (item.ImgDown)
                    {
                        <tr>

                            <td>
                                <a asp-action="Download" asp-route-id="@item.ID">@Html.DisplayFor(modelItem => item.FileName)</a>
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.Date)
                            </td>
                            <td>
                                <!--<a asp-action="Edit" asp-route-id="@item.ID">Edit</a> |
                                <a asp-action="Details" asp-route-id="@item.ID">Details</a> |-->
                                <a asp-action="Delete" asp-route-id="@item.ID">Delete</a>
                            </td>
                            <th></th>
                        </tr>
                    }
                }
            </tbody>
        </table>


    }
}
